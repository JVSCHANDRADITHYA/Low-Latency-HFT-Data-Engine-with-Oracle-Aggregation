name: Daily Rust Dependency Health Check

on:
  schedule:
    - cron: "0 11 * * *"   # 4:30 PM IST (11:00 AM UTC)
  workflow_dispatch:

jobs:
  dependency-check:
    runs-on: ubuntu-latest
    continue-on-error: true   # ðŸ‘ˆ prevents failure emails

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Install Rust
        uses: dtolnay/rust-toolchain@stable

      - name: Fetch dependencies (network check)
        run: |
          echo "Fetching Rust dependencies..."
          cargo fetch || echo "Dependency fetch failed (ignored)"

      - name: Cargo check (non-fatal)
        run: |
          echo "Running cargo check..."
          cargo check || echo "Cargo check failed (ignored)"
